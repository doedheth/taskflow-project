# API Contracts - TaskFlow Server (v2)

Daftar endpoint API utama yang ditemukan dalam `task-manager-server`.

## Base Path: `/api`

### Authentication
| Method | Endpoint | Description |
|--------|----------|-------------|
| POST | `/auth/login` | Login pengguna |
| POST | `/auth/register` | Registrasi pengguna baru |
| GET | `/auth/me` | Mendapatkan data profil pengguna saat ini |

### Tickets (v2)
| Method | Endpoint | Description |
|--------|----------|-------------|
| GET | `/v2/tickets` | Mendapatkan semua tiket dengan filter |
| GET | `/v2/tickets/:id` | Mendapatkan detail tiket berdasarkan ID |
| POST | `/v2/tickets` | Membuat tiket baru |
| PUT | `/v2/tickets/:id` | Memperbarui data tiket |
| PATCH | `/v2/tickets/:id/status` | Memperbarui status tiket saja |
| DELETE | `/v2/tickets/:id` | Menghapus tiket |
| POST | `/v2/tickets/quick-maintenance` | Membuat tiket pemeliharaan & WO secara instan |

### AI Services (v2)
| Method | Endpoint | Description |
|--------|----------|-------------|
| POST | `/api/ai/chat` | Chat dasar dengan AI |
| POST | `/api/ai/smart-chat` | Chat dengan kemampuan tool use |
| POST | `/api/ai/smart-wo` | Pembuatan Work Order cerdas |
| GET | `/api/ai/predictions` | Mendapatkan prediksi pemeliharaan |

### Work Orders (v2)
| Method | Endpoint | Description |
|--------|----------|-------------|
| GET | `/v2/work-orders` | Daftar Work Order |
| POST | `/v2/work-orders` | Membuat Work Order baru |
| GET | `/v2/work-orders/:id` | Detail Work Order |

### Dashboard Data
| Method | Endpoint | Description |
|--------|----------|-------------|
| GET | `/api/dashboard/supervisor` | Data dashboard untuk peran Supervisor |
| GET | `/api/dashboard/manager` | Data dashboard untuk peran Manager |
| GET | `/api/dashboard/member` | Data dashboard untuk peran Member |
| GET | `/api/dashboard/admin` | Data dashboard untuk peran Admin |

### Energy Monitoring (v2)
| Method | Endpoint | Description |
|--------|----------|-------------|
| GET | `/api/v2/energy/latest` | Status energi real-time terbaru |
| GET | `/api/v2/energy/revenue` | Kalkulasi pendapatan/penghematan energi |
| GET | `/api/v2/energy/history` | Riwayat beban energi |

### Solar Monitoring (v2)
| Method | Endpoint | Description |
|--------|----------|-------------|
| GET | `/api/v2/solar/comparison` | Data komparasi Huawei vs Manual |
| GET | `/api/v2/solar/trend` | Tren produksi energi surya |
| GET | `/api/v2/solar/realtime` | Data real-time aliran energi |
| POST | `/api/v2/solar/manual` | Input data meter KWH secara manual |
| GET | `/api/v2/solar/sync` | Sinkronisasi manual dari Huawei API (Admin) |
| GET | `/api/v2/solar/config` | Mendapatkan konfigurasi Solar |
| POST | `/api/v2/solar/config` | Menyimpan konfigurasi Solar (Admin) |

### Public Slideshow (v2)
| Method | Endpoint | Description |
|--------|----------|-------------|
| GET | `/api/v2/public/slideshow` | Agregasi data untuk tampilan TV/Slideshow Publik |

---
*Generated by BMad Master - 2026-02-05*
